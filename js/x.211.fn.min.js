$(function(){$.template("sliderTMPL",'<div class="slider"><div class="iosSlider"><div class="slider-content">{{if data}}{{each(i, v) data}}{{if v.type=="slider" || v.type=="image"}}<div class="item" data-bgfrom-img="${v.img}" data-id="${i}"></div>{{/if}}{{if v.type=="action"}}<a href="${v.url}" class="item" data-bgfrom-img="${v.img}" data-id="${i}">&nbsp;</a>{{/if}}{{/each}}{{/if}}</div>{{if config.showArrows && config.showArrows==true}}<div class="prevContainer {{if config.arrowsAlign}}${config.arrowsAlign}{{else}}bottom{{/if}}"><div class="prev"><a href="javascript:void(0);" rel="nofollow"><svg width="40" height="40" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-l"></use></svg></a></div></div><div class="nextContainer {{if config.arrowsAlign}}${config.arrowsAlign}{{else}}bottom{{/if}}"><div class="next"><a href="javascript:void(0);" rel="nofollow"><svg width="40" height="40" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-r"></use></svg></a></div></div>{{/if}}{{if config.showDots && config.showDots==true}}<div class="dots"><ul class="p-n">{{if data.length > 1}}{{each(i, v) data}}<li><a href="javascript:void(0);" rel="nofollow" data-dot="${i}"></a></li>{{/each}}{{/if}}</ul></div>{{/if}}</div></div>{{if config.type=="dual"}}<div class="dual-slider"><div class="iosSlider"><div class="slider-content">{{if data}}{{each(i, v) data}}<div class="thumb" data-bgfrom-img="${v.thumb}"></div>{{/each}}{{/if}}</ul></div></div></div></div>{{/if}}'),$.template("productItemTMPL",'{{if status=="200" && data.length!=="0"}}{{each(i, v) data}}<li><div class="img-cnt" data-bgfrom-img="${v.image}"><a href="javascript:void(0);" rel="nofollow" data-type="getProductDetails" data-pid="${v.id}"><span class="h">{{if lang}}${lang.lang_details}{{else}}+{{/if}}</span></a></div></li>{{/each}}{{/if}}'),$.template("preloaderTMPL",'<img src="'+fn_base_script+'images/preloader-big.gif" alt="preloader spinning animation" />'),$.template("prodDetailsTMPL",'<div class="w-1-1 mt-3"></div><div class="g"><div class="pt-2 ws-1-1 wm-2-3 wl-2-3 wxl-2-3">{{if data.slider}} <div class="slider-area h" data-slider-id="slider_product"><noscript id="sliderData">{{parsejson data.slider}}</noscript></div>{{/if}}</div><div class="pt-2 ws-1-1 wm-1-3 wl-1-3 wxl-1-3"><div class="w-1-1 pt-3 hl">&nbsp;</div>{{if data.lang_data}}<div class="w-1-1 txt@c pt-3 pb-3 border@t@b title">${data.lang_data}</div>{{/if}}{{if data.lang_content}}<div class="w-1-1 pt-3 pb-3 border@b desc">{{html data.lang_content}}</div>{{/if}}<div class="w-1-1 pt-3 pb-3 border@b"><div class="g"><div class="w-1-2 price">125 €</div><div class="w-1-2"><ul class="ln g gc gw-1-3 txt@c w-1-1"><li><a href="javascript:void(0);" rel="nofollow" class="arrow l"><svg width="40" height="40" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-l"></use></svg></a></li><li class="qty">1</li><li><a href="javascript:void(0);" rel="nofollow" class="arrow r"><svg width="40" height="40" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-r"></use></svg></a></li></ul></div></div></div><div class="w-1-1 font@lr pt-3 pb-2"><a href="" class="button">añadir al cesta</a></div><div class="w-1-1 font@lr pt-2 pb-3"><a href="" class="button">comprar ahora</a></div></div></div>'),$.template("smallCookie",'<div class="cookies-policy">Aceptas nuestra <a href="'+fn_base_script+'politica-de-privacidad" target="_self">Política de Privacidad</a> y <a href="'+fn_base_script+'politica-de-cookies" target="_self">Política de Cookies</a>?<br/>Utilizamos ‘cookies’ propias y de terceros para mejorar nuestros servicios, así como para obtener datos estadísticos de navegación de los usuarios.<div class="w-1-1 pt-2"></div><a href="javascript:void(0);" data-cookies="accept">Aceptar</a></div>'),$.template("cart",'<div class="cart-container"> \t\t\t<div class="w-1-1"> \t\t\t<a href="javascript:void(0);" data-action="closeCart"><img src="'+fn_base_script+'images/icon-close.svg" width="27px" height="27px" alt="close button"/></a> \t\t\t</div> \t\t\t<div class="w-1-1 pt-2"></div> \t\t\t<div class="container"> \t\t\t\t{{if data.status == 400}} \t\t\t\t\t{{if data.message}}<div class="w-1-1 txt@c">${data.message}</div>{{/if}} \t\t\t\t{{else}} \t\t\t\t\tstatus 200 ${status} \t\t\t\t{{/if}} \t\t\t\t{{if data == "preload"}}<div class="w-1-1 tc txt@c">{{tmpl() "preloaderTMPL"}}</div>{{/if}} \t\t\t</div> \t\t</div> \t');var a={FIRSTRUN:!1,SCROLL_TOP:$(window).scrollTop(),HASH:"",USERLANG:userLang,REQ:!1,COOKIES:!1,GMAP:!1,GMAPSTYLE:[{featureType:"all",stylers:[{saturation:-100},{gamma:.5}]},{featureType:"water",elementType:"all",stylers:[{hue:"#d8d8d8"},{visibility:"simplified"}]},{featureType:"landscape",elementType:"all",stylers:[{hue:"#0077ff"},{visibility:"simplified"},{invert_lightness:"true"}]}],GMAP_JSON:{},SLIDER:{},VIDEOFS:{},CLICKED:""};e_action_handler=function(){var a=$(this),e=a.attr("data-action"),t=0!==a.parents("form").length?a.parents("form").serialize():null;if((/(rec|Pass|client|clientUpInvoiceDir|clientUpShippingDir)/gim.test(e)&&a.parents("form").find("input").removeClass("error"),/(newClient)/gim.test(e))&&!a.parents("form").find("input[name='accept']").is(":checked"))return void a.parents("form").find("input[name='accept']").addClass("error");if(/closeCart/gim.test(e))return $("html").removeClass("menu-open").removeClass("openCart"),$("[data-cart-container]").empty(),void("checkout"==$("html").attr("data-hash")&&location.reload());if(/openCart/gim.test(e)&&($("html").removeClass("menu-open").addClass("openCart"),$(".cart-wrap [data-cart-container]").html($.tmpl("cart",{data:"preload"}))),/addCart/gim.test(e))t=JSON.stringify({product_id:a.data("id")||0,category_id:a.data("cat")||0});fn_call_ajax(e,{data:t},null,function(t){if(debug&&console.log(t),/(add|open)Cart/gim.test(e)&&$(".cart-wrap [data-cart-container]").html($.tmpl("cart",{data:t})),200==t.status?(/(up|add|open)Cart/gim.test(e)&&$(".cart-not.h").text(t.data.cart.length).removeClass("h"),"newClient"==e&&(window.location.href="/atm-club-bienvenido"),"recPass"==e&&(window.location.href="/recuperacion-de-contrasena-enviado"),"recUpPass"==e&&(window.location.href="/login"),/(reclamacionSend|clientUpInvoiceDir|clientUpShippingDir|clientPersonalData|clientUpPass)/gim.test(e)&&a.parents("form").find("[data-message]").show(),/(reclamacionSend)/gim.test(e)&&(a.parents("form").find("select").val(0),a.parents("form").find(":input").val(""))):"recPass"==e&&a.parents("form").find("input").addClass("error"),t.dom&&0!==t.dom.length)for(var i in t.dom)$('[name="'+t.dom[i]+'"]').addClass("error")})},fn_tab_handler=function(e){if(!($(window).width()>768)){var t=$(this),i=t.attr("href");0!==t.parents("li").find(".submenu").length&&a.CLICKED!==i&&(e.preventDefault(),e.stopPropagation()),a.CLICKED=i,t.parents('[data-content-from="menu"]').find("ul .submenu").stop().slideUp(450),t.parents('[data-content-from="menu"]').find(".open").removeClass("open");var n=t.parents("li").innerHeight();t.addClass("open"),t.parents("li").find(".submenu").stop().slideToggle(450,function(){t.hasClass("open")&&n>t.parents("li").innerHeight()&&t.removeClass("open")})}},fn_init_fn=function(){0!==$("[data-preloadimages]").length&&fn_page_preload_images(),0!==$("[data-bgfrom-img]").length&&fn_page_bgfromimg(),0!==$("[data-box-height]").length&&fn_page_boxheight(),0!==$('noscript[id*="slider"]').length&&fn_initSlider_handler(),0!==$('noscript[id*="videofs"]').length&&fn_videofs_handler(),0!==$('noscript[id*="gmap"]').length&&fn_gmap_handler(),0!==$("[data-some-h]").length&&some_h(),0!==$("[data-source]").length&&fn_content_from_source()},e_scrolltoid=function(a){var e=$(a.currentTarget).attr("href")||!1;a.preventDefault(),a.stopPropagation(),e&&void 0!=e&&$("html,body").animate({scrollTop:$(e).offset().top},"slow")},fn_content_from_source=function(){$("[data-content-from]").each(function(a,e){var t=$(e).attr("data-content-from");$('[data-source="'+t+'"]').clone(!0,!0).appendTo('[data-content-from="'+t+'"]'),0!==$("[data-some-h]").length&&some_h()})},some_h=function(){var a=$("[data-some-h]"),e={};if(0!=a.length){for(var t in a)if($.isNumeric(t)){var i=$(a[t]).data("some-h");void 0==e[i]&&(e[i]=0);var n=parseFloat($(a[t]).height());e[i]<n&&(e[i]=n)}for(var t in e)$('[data-some-h="'+t+'"]').height(e[t])}},fn_menu_handler=function(){$("html").hasClass("menu-open")?$("html").removeClass("menu-open"):$("html").addClass("menu-open")},fn_init_fancybox=function(){if("function"==typeof $.fn.fancybox){var a=$.parseJSON($("body[data-popup]").attr("data-popup"));a&&fn_call_ajax("homeGalleryContent",a,null,function(a){debug&&console.log(a),200==a.status&&$.fancybox.open(a.data,{loop:!0,youtube:{controls:0,showinfo:0},vimeo:{color:"f00"}})}),clearTimeout($.data(this,"data-fancybox"))}else clearTimeout($.data(this,"data-fancybox")),$.data(this,"data-fancybox",setTimeout("fn_init_fancybox()",350))},e_cond_accept=function(){createCookie("showPrivacy","false",2),$(".cookies-policy",document).fadeOut(1200,function(){$(this).remove()})},fn_videofs_handler=function(){trace("[R:300]"),$('noscript[id*="videofs"]').each(function(e,t){var i=$(t),n=i.contents();if(0!=n.length||void 0!=n[0].data){var o=$.parseJSON(n[0].data),s={};if(o&&0!==o.data.length)for(var e in o.data)/mp4/gim.test(o.data[e].img)&&(s.mp4=o.data[e].img),/webmhd/gim.test(o.data[e].img)&&(s.webm=o.data[e].img),/ogv|ogg/gim.test(o.data[e].img)&&(s.ogv=o.data[e].img);o.data=s,a.VIDEOFS[e]={id:$(i).parent().attr("data-slider-id"),data:o};var r=$('[data-slider-id="'+a.VIDEOFS[e].id+'"] video'),d=document.createElement("video").canPlayType("video/mp4; codecs=avc1.42E01E,mp4a.40.2")?s.mp4:s.webm;r.attr("src",d),$(r).on("loadedmetadata",function(a){$(a.target).animate({opacity:1},2e3,"easeOutExpo"),$(a.target)[0].play()}),$(r).on("oncanplay, loadedmetadata",function(a){$(a.target)[0].play()})}})},fn_initSlider_handler=function(){trace("[R:388]"),$('noscript[id*="slider"]').each(function(e,t){var i=$(t),n=i.contents();0==n.length&&void 0==n[0].data||(a.SLIDER[e]=$.parseJSON(n[0].data),i.attr("data-slider-container")&&0!==i.attr("data-slider-container").length&&(a.SLIDER[e].config.dom=i.attr("data-slider-container")))}),window.loadJS({items:[fn_base_script+"js/jquery.iosslider.min.js"],callback:fn_initSlider_dom()})},fn_initSlider_dom=function(){if("function"==typeof $.fn.iosSlider){if(null!==a.SLIDER&&(trace("[R:409]"),0!==a.SLIDER.length))for(var e in a.SLIDER)if($.isNumeric(e)){if(!a.SLIDER[e].config.dom)return;trace(a.SLIDER[e]);var t=$('.slider-area[data-slider-id="'+a.SLIDER[e].config.dom+'"]'),i={snapToChildren:!0,desktopClickDrag:!0,autoSlide:!0,autoSlideTimer:8e3,onSliderLoaded:fn_slideChange,onSliderUpdate:fn_slideChange,onSlideChange:fn_slideChange};t.removeClass("h").html($.tmpl("sliderTMPL",a.SLIDER[e])),0!==$("[data-bgfrom-img]").length&&fn_page_bgfromimg(),0!==$("[data-box-height]").length&&fn_page_boxheight(),"normal"==a.SLIDER[e].config.type?(a.SLIDER[e].config.showDots&&(i.navSlideSelector=t.find(".dots li a")),a.SLIDER[e].config.showArrows&&(i.navNextSelector=t.find(".slider .next a"),i.navPrevSelector=t.find(".slider .prev a")),t.find(".slider .iosSlider").iosSlider(i)):(i.onSliderLoaded=function(a){doubleSlider2Load(a,t)},i.onSlideChange=function(a){doubleSlider2Load(a,t)},t.find(".slider .iosSlider").iosSlider(i),t.find(".dual-slider .iosSlider").iosSlider({desktopClickDrag:!0,snapToChildren:!0,snapSlideCenter:!1,infiniteSlider:!1}),t.find(".slider .iosSlider").iosSlider("goToSlide",1),t.find(".dual-slider .iosSlider").iosSlider("goToSlide",1),t.find(".dual-slider .iosSlider").find(".thumb").each(function(a){$(this).bind("click",function(){t.find(".slider .iosSlider").iosSlider("goToSlide",a+1)})}))}clearTimeout($.data(this,"data-init_iosslider"))}else clearTimeout($.data(this,"data-init_iosslider")),$.data(this,"data-init_iosslider",setTimeout("fn_initSlider_dom()",350))},fn_slideChange=function(a){$(a.sliderContainerObject[0]).find(".dots li").removeClass("active"),$(a.sliderContainerObject[0]).find(".dots li:eq("+(a.currentSlideNumber-1)+")").addClass("active")},doubleSlider2Load=function(a,e){e.find(".dual-slider .iosSlider").iosSlider("goToSlide",a.currentSlideNumber),e.find(".dual-slider .iosSlider .thumb").removeClass("selected"),e.find(".dual-slider .iosSlider .thumb:eq("+(a.currentSlideNumber-1)+")").addClass("selected")},fn_gmap_handler=function(){fn_gmapkey&&(trace("[R:681]"),$('noscript[id*="gmap"]').each(function(){var e=$("noscript#gmap").contents();0==e.length&&void 0==e[0].data||(a.GMAP_JSON=$.parseJSON(e[0].data),window.loadJS({items:["//maps.googleapis.com/maps/api/js?v=3&key="+fn_gmapkey+"&callback=fn_gmapInit"],callback:function(){a.GMAP=!0}}))}))},fn_gmapInit=function(e){var t=$("#"+a.GMAP_JSON.renderDomId);if(a.FIRSTRUN){"resize"==e&&t.empty(),trace("[R:713]");var i={center:new google.maps.LatLng(41.385064,2.173403),zoom:16,disableDefaultUI:!1,draggable:!0,scaleControl:!1,scrollwheel:!0,mapTypeId:google.maps.MapTypeId.ROADMAP};void 0!==a.GMAPSTYLE&&0!==a.GMAPSTYLE.length&&(i.styles=a.GMAPSTYLE);var n=new google.maps.Map(document.getElementById(a.GMAP_JSON.renderDomId),i),o=(new google.maps.InfoWindow,new google.maps.LatLngBounds),s=-1!==a.GMAP_JSON.gps.indexOf(", ")?a.GMAP_JSON.gps.split(", "):a.GMAP_JSON.gps.split(","),r=new google.maps.LatLng(s[0],s[1]);o.extend(r);new google.maps.Marker({position:r,map:n,icon:fn_base_script+"images/map-pin.png",animation:"resize"==e?google.maps.Animation.NONE:google.maps.Animation.DROP});n.setCenter(o.getCenter())}},fn_page_preload_images=function(){$("[data-preloadimages]").each(function(a){var e=$(this),t=e.attr("data-image");t&&$("<img>",{src:t}).imagesLoaded(function(a,i,n){0===n.length&&e.hide().attr("src",t).fadeIn()})})},fn_preloadImage=function(a,e,t){debug&&console.log("[>] fn_preloadImage"),a.each(function(a){var i=$(this);e&&$("<img>",{src:e}).imagesLoaded(function(a,n,o){0===o.length&&(t?t.call(this):i.hide().attr("src",e).fadeIn())})})},fn_page_bgfromimg=function(){$("[data-bgfrom-img]").each(function(a){var e=$(this),t=(e.width(),e.attr("data-bgfrom-img")),i=t||e.find("img").attr("src");void 0!==i&&-1==i.indexOf("blank.gif")?fn_preloadImage(e,t,function(){e.css({backgroundImage:"url("+i+")"})}):e.css({backgroundColor:"transparent"})})},fn_page_boxheight=function(){$("[data-box-height]").each(function(a){var e=$(this),t=e.width();e.css({height:t+"px"}),$("[data-height-fix]").each(function(){var a=$(this),e=a.attr("data-height-fix"),t=$("."+e).height();a.css({height:t+"px"})})})},e_analytics_event=function(){var a=$(this).attr("data-event");debug&&console.log("[>] Analytics - Event"),fn_analytics&&$.isFunction(ga)&&ga("send","event",a,$("html[data-hash]").attr("data-hash"))},e_resize=function(){0!==$("[data-box-height]").length&&fn_page_boxheight(),a.FIRSTRUN=!0},createCookie=function(a,e,t){if(t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);var n="; expires="+i.toGMTString()}else n="";a=a,document.cookie=a+"="+e+n+"; path=/"},readCookie=function(a){for(var e=a+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return null},fn_call_ajax=function(a,e,t,i){$.ajax({url:fn_base_script+"index.php?ajax="+a,dataType:"json",data:e,type:"POST",beforeSend:t,success:i})},trace=function(a){debug&&console.log(a)},function(){trace("init running up jquery.ver["+$().jquery+"]"),$("html[data-hash]").each(function(e){var t=$(this).attr("data-hash"),i=$(this).attr("lang"),n=$(this).attr("data-type");a.HASH=t,a.TYPE=n,a.LANG=i,$("header nav a.active").removeClass("active"),$('header nav a[data-hash*="'+a.HASH+'"]').addClass("active"),$('.lang [data-l="'+a.USERLANG+'"]').parents("li").addClass("active"),$(".current-lang").html(a.USERLANG),a.TYPE}),fn_init_fn(),a.COOKIES=readCookie("showPrivacy"),"false"!==a.COOKIES&&(debug&&console.log("[>] COOKIES"),clearTimeout($.data(this,"timertoshowCookies")),$.data(this,"timertoshowCookies",setTimeout(function(){$.tmpl("smallCookie").appendTo($("body",document)).fadeIn(1200),$(document).on("click",'[data-cookies="accept"]',e_cond_accept)},5e3))),$(document).on("click",'[href^="#"]',e_scrolltoid),$(document).on("click","[menu-handler]",fn_menu_handler),$(document).on("click","[data-action]",e_action_handler),$(document).on("click","[data-event]",e_analytics_event),$(document).on("click",'[data-submenu="1"]',fn_tab_handler),$(window).on("resize",e_resize).trigger("resize")}()}),fn_analytics&&(!function(a,e,t,i,n,o,s){a.GoogleAnalyticsObject=n,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,o=e.createElement(t),s=e.getElementsByTagName(t)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create",fn_analytics,"auto"),ga("send","pageview"),setTimeout(function(){debug&&console.log("[>] NoBounce 10 sec Analytics"),ga("send","event","NoBounce","10 sec")},1e4));